
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="Invalid lens filter expressions don't always result in an error in the web application. Some invalid filter expressions are only caught during a lens build and can cause the lens build to fail. This ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="concept"/><meta name="DC.Title" content="Troubleshoot Lens Filter Expressions"/><meta name="abstract" content="Invalid lens filter expressions don't always result in an error in the web application. Some invalid filter expressions are only caught during a lens build and can cause the lens build to fail. This section has some common lens filter expression mistakes that can cause an error or a lens build failure."/><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="Invalid lens filter expressions don't always result in an error in the web application. Some invalid filter expressions are only caught during a lens build and can cause the lens build to fail. This section has some common lens filter expression mistakes that can cause an error or a lens build failure."/><meta name="DC.Relation" scheme="URI" content="../../lens/create/lens_filters.html"/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="troubleshoot_lens_filter_expressions"/><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Troubleshoot Lens Filter Expressions</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/jquery.realperson.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/comments.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/jquery.cleditor.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/admin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "../../index.html";
          
          --></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/localization/strings.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/js/init.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/js/comments-functions.js"><!----></script></head>
<body onload="init('../../')" id="troubleshoot_lens_filter_expressions">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="printThisPage"/></div><div id="permalink"><a href="#" title="linkToThis"/></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../../lens/create/../../lens/create_lens.html" title="A lens is always defined from the focal point of a single dataset in the data catalog. Once you have located a dataset that has the data you need, first check and see if there are any existing lenses that you can use. If not, click Create Lens on the dataset details page to define and build a new lens from that dataset.">Create a Lens</a> / <a class="navheader_parent_path" href="../../lens/create/lens_filters.html" title="One way to limit the size of a lens is to define a filter to constrain the number of rows pulled in from the data source. You can only define filters on dimension fields - one filter condition per field. Filters are evaluated independently during a lens build, so the order in which they are added to the lens does not matter.">Define Lens Filters</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../../lens/create/lens_filters.html" title="One way to limit the size of a lens is to define a filter to constrain the number of rows pulled in from the data source. You can only define filters on dimension fields - one filter condition per field. Filters are evaluated independently during a lens build, so the order in which they are added to the lens does not matter."><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Define Lens Filters</span></a></span>  </div></td></tr></tbody></table>

 <h1 class="title topictitle1">Troubleshoot Lens Filter Expressions</h1>

 
 <div class="body conbody"><p class="shortdesc">Invalid lens filter expressions don't always result in an error in the web application. Some invalid filter expressions are only caught during a lens build and can cause the lens build to fail. This section has some common lens filter expression mistakes that can
  cause an error or a lens build failure.</p>

  <div class="section"><h2 class="title sectiontitle">The Data Types of the Comparison Arguments Don't Match</h2>
   
   <p class="p">A <a class="xref" href="../../reference/expression_language/operators_comparison.html" title="Comparison operators are used to compare the equivalency of two expressions of the same data type. The result of a comparison expression is a Boolean value (returns 1 for true, 0 for false, or NULL for invalid). Boolean expressions are most often used to specify data processing conditions or filter criteria.">comparison expression</a> must compare values of
    the same data type. For example, if you create a filter on a field that is an
     <samp class="ph codeph">INTEGER</samp> data type, you can't specify a comparison argument that is a
     <samp class="ph codeph">STRING</samp>.</p>

  
  </div>

  <div class="section"><h2 class="title sectiontitle">Literal Values are not Specified Correctly</h2>
   
   <p class="p">Lens filters often compare a field value to a literal value. Specifying a literal value
    correctly depends on its data type (string, numeric, or datetime). For example:</p>

   <div class="p">
    <ul class="ul">
     <li class="li">Date literals must be in the format of <samp class="ph codeph">yyyy-MM-dd</samp> without any enclosing
      quotation marks or other punctuation.</li>

     <li class="li">String literals are enclosed in double quotes (<samp class="ph codeph">"</samp>). If the string itself
      contains a quote, it must be escaped by doubling the double quote (<samp class="ph codeph">""</samp>). </li>

    </ul>

   </div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Incorrect Date Range Arguments</h2>
   
   <p class="p">When specifying a range of dates, the earlier date should always come first. For example, when
    using the <samp class="ph codeph">BETWEEN</samp> operator:</p>

   <p class="p">use <samp class="ph codeph">BETWEEN 2013-07-01 AND 2013-07-15</samp> (correct)</p>

   <p class="p">not <samp class="ph codeph">BETWEEN 2013-07-01 AND 2012-07-15</samp> (incorrect)</p>

   <p class="p">For relative date filter expressions, the only valid date range keyword is
     <samp class="ph codeph">DAYS</samp>. For example:</p>

   <p class="p">use <samp class="ph codeph">LAST 7 DAYS</samp> (correct)</p>

   <p class="p">not <samp class="ph codeph">LAST 1 WEEK</samp> (incorrect)</p>

  </div>

  
  <div class="section"><h2 class="title sectiontitle">More Filter Expression Error Examples</h2>
   
   <p class="p">Below are some more examples of incorrect lens filter expressions, and their corrected
    versions.</p>

   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="troubleshoot_lens_filter_expressions__table_troubleshoot_lens_filters" class="table" frame="border" border="1" rules="all">
     
     
     
     
     <tbody class="tbody">
      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%"><strong class="ph b">Filtered Field</strong></td>

       <td class="entry" valign="top" width="31.481481481481477%"><strong class="ph b">Lens Filter with Error</strong></td>

       <td class="entry" valign="top" width="31.481481481481477%"><strong class="ph b">Corrected Lens Filter</strong></td>

       <td class="entry" valign="top" width="18.51851851851852%"><strong class="ph b">What's Wrong?</strong></td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">Date.Year</td>

       <td class="entry" valign="top" width="31.481481481481477%">Date.Year = "2012"</td>

       <td class="entry" valign="top" width="31.481481481481477%">Date.Year =2012</td>

       <td class="entry" valign="top" width="18.51851851851852%">Can't compare an Integer field to a String literal</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">OrderDate</td>

       <td class="entry" valign="top" width="31.481481481481477%">BETWEEN "2013-07-01" AND "2013-07-15"</td>

       <td class="entry" valign="top" width="31.481481481481477%">BETWEEN 2013-07-01 AND 2013-07-15</td>

       <td class="entry" valign="top" width="18.51851851851852%">Can't compare a Datetime field to a String literal </td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">Date.Year</td>

       <td class="entry" valign="top" width="31.481481481481477%">2012</td>

       <td class="entry" valign="top" width="31.481481481481477%">= 2012</td>

       <td class="entry" valign="top" width="18.51851851851852%">No comparison operator</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">Title</td>

       <td class="entry" valign="top" width="31.481481481481477%">IN(Mrs,Ms,Miss)</td>

       <td class="entry" valign="top" width="31.481481481481477%">IN("Mrs","Ms","Miss")</td>

       <td class="entry" valign="top" width="18.51851851851852%">String literals must be quoted</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">Height</td>

       <td class="entry" valign="top" width="31.481481481481477%">= "60""</td>

       <td class="entry" valign="top" width="31.481481481481477%">= "60"""</td>

       <td class="entry" valign="top" width="18.51851851851852%">Quotes in a string literal must be escaped</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">Height</td>

       <td class="entry" valign="top" width="31.481481481481477%">LIKE("\d\'(\d)+"")</td>

       <td class="entry" valign="top" width="31.481481481481477%">LIKE("\d\'(\d)+""")</td>

       <td class="entry" valign="top" width="18.51851851851852%">Quotes in a regular expression must be escaped</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">PurchaseDate</td>

       <td class="entry" valign="top" width="31.481481481481477%">LAST 1 WEEK</td>

       <td class="entry" valign="top" width="31.481481481481477%">LAST 7 DAYS</td>

       <td class="entry" valign="top" width="18.51851851851852%">Unsupported keyword for relative dates</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="18.51851851851852%">PurchaseDate</td>

       <td class="entry" valign="top" width="31.481481481481477%">BETWEEN 2013-07-01 AND 2012-07-15</td>

       <td class="entry" valign="top" width="31.481481481481477%">BETWEEN 2013-07-01 AND 2013-07-15</td>

       <td class="entry" valign="top" width="18.51851851851852%">Invalid date range</td>

      </tr>

     </tbody>

    </table>
</div>

  </div>

  
   
 </div>

<div class="related-links"/>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../lens/create/lens_filters.html" title="One way to limit the size of a lens is to define a filter to constrain the number of rows pulled in from the data source. You can only define filters on dimension fields - one filter condition per field. Filters are evaluated independently during a lens build, so the order in which they are added to the lens does not matter."><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Define Lens Filters</span></a></span>  </div><div class="footer">WebHelp output generated by<a href="http://www.oxygenxml.com" target="_blank"><span class="oXygenLogo"><img src="../../oxygen-webhelp/resources/img/LogoOxygen100x22.png" alt="Oxygen"/></span><span class="xmlauthor">XML Author</span></a></div>
<div id="productInfo" style="display:none;"><span id="oxy_productID">webhelp</span><span id="oxy_productVersion">3.0</span></div><div id="loginData" style="display: none"><span class="bt_close" title="Close"><!----></span><form action="" target="passwordIframe" method="post" name="form_login" onsubmit="return loggInUser();" id="loginFormData" autocomplete="on"><input type="hidden" id="reloadComments" value="yes"><!----></input><table class="login"><thead><tr><td colspan="2"><span id="l_login2"><script type="text/javascript">$('#l_login2').html(getLocalization('label.login'));</script></span></td></tr><tr><td colspan="2"><div id="loginResponse"><!----></div></td></tr></thead><tr><td><span id="l_userName"><script type="text/javascript">$('#l_userName').html(getLocalization('label.userName'));</script></span></td><td><input name="usernameW" type="text" id="myUserName" autocomplete="on" required="required" autofocus="autofocus"><!----></input></td></tr><tr><td><span id="l_pswd"><script type="text/javascript">$('#l_pswd').html(getLocalization('label.pswd'));</script></span></td><td><input name="passwordW" type="password" id="myPassword" autocomplete="on" required="required"><!----></input></td></tr><tr><td colspan="2" align="left"><span id="ll_remember"><script type="text/javascript" xml:space="preserve">
								$('#ll_remember').html(getLocalization('label.rememberme'));
							</script></span>     <input name="myLoginRemember" type="checkbox" class="ck" id="myRemember" value="no"><!----></input></td></tr><tr><td colspan="2" align="center"><input id="l_bt_submit_log" type="submit" value="Submit" name="loginFormButton"><!----></input><script type="text/javascript">$('#l_bt_submit_log').attr('value',getLocalization('label.login'));</script><span class="btnHGlue"><!----></span><input class="bt_cancel" id="l_cancelLog" type="button" value="Cancel" name="loginFormButton"><!----></input><script type="text/javascript">$('#l_cancelLog').attr('value',getLocalization('label.cancel'));</script></td></tr></table><div class="loginAlternative"><span id="link_lostPwd" onclick="showLostPwd()"><script type="text/javascript">$('#link_lostPwd').html(getLocalization('label.lostPswd'));</script></span><span id="link_signUp" onclick="showSignUp()"><script type="text/javascript">$('#link_signUp').html(getLocalization('label.signUp'));</script></span></div></form><iframe id="passwordIframe" name="passwordIframe" style="display:none"><!----></iframe></div><div id="cmts"><!----></div></body>
</html>